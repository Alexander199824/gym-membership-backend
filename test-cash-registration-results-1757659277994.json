{
  "timestamp": "2025-09-12T06:41:06.834Z",
  "testType": "CASH_MEMBERSHIP_REGISTRATION_ONLY",
  "purpose": "Registrar membresía mensual para pago en efectivo - SIN validación admin",
  "steps": [
    {
      "step": 1,
      "action": "Autenticación del cliente",
      "success": true,
      "userId": "cf78ff39-32f8-4f6e-97be-b1801d008ea3",
      "email": "echeverriam302@gmail.com"
    },
    {
      "step": 2,
      "action": "Obtener planes mensuales",
      "success": true,
      "totalPlans": 3,
      "monthlyPlansAvailable": 1,
      "selectedPlan": {
        "id": 2,
        "name": "Plan Mensual",
        "price": 250,
        "durationType": "monthly",
        "paymentMode": "cash_registration"
      }
    },
    {
      "step": 3,
      "action": "Obtener horarios disponibles",
      "success": true,
      "planId": 2,
      "planType": "monthly",
      "selectedSchedule": {
        "monday": [
          1
        ],
        "tuesday": [
          2
        ],
        "wednesday": [
          3
        ],
        "thursday": [
          4
        ],
        "friday": [
          5
        ]
      },
      "scheduledDays": 5,
      "totalSlotsSelected": 5,
      "maxAllowed": 5
    },
    {
      "step": 4,
      "action": "Verificar disponibilidad de horarios",
      "success": true,
      "canPurchase": true,
      "conflictsCount": 0,
      "slotsVerified": 5
    },
    {
      "step": 5,
      "action": "Registrar membresía para pago en efectivo",
      "success": true,
      "membershipId": "c56462fa-3f27-49eb-952e-ed2b8186d54c",
      "membershipStatus": "pending",
      "paymentMode": "cash_pending",
      "planType": "monthly",
      "amount": 250,
      "expectedStatus": "pending",
      "statusCorrect": true
    },
    {
      "step": 6,
      "action": "Verificar cliente sin membresía activa",
      "success": true,
      "note": "Cliente correctamente sin membresía activa - está pendiente de pago",
      "membershipStatus": "pending_cash_payment",
      "nextStep": "Admin debe validar pago en gimnasio"
    },
    {
      "step": 7,
      "action": "Verificar membresía en BD",
      "success": true,
      "membershipId": "c56462fa-3f27-49eb-952e-ed2b8186d54c",
      "membershipStatus": "pending",
      "correctStatus": true,
      "expectedStatus": "pending",
      "hasSchedule": true,
      "planType": "monthly",
      "price": "250.00"
    },
    {
      "step": 8,
      "action": "Verificar permisos lista de pendientes",
      "success": true,
      "note": "Cliente correctamente bloqueado (403)",
      "properPermissions": true,
      "accessDenied": true
    }
  ],
  "success": true,
  "data": {},
  "errors": []
}